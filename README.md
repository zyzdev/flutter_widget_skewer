# flutter_widget_skewer

A Dart code generator that lets you build Flutter widget trees using [method chaining](https://en.wikipedia.org/wiki/Fluent_interface#JavaScript).  
No more [declarative UI](https://docs.flutter.dev/get-started/flutter-for/declarative) â€” just chain widgets like skewered food ğŸ¢.

âš ï¸ If you encounter dependency or analyzer version conflicts, please check the [Troubleshooting](#-troubleshooting) 
section.

---

## âœ¨ Features

- Chain any widget constructor as an extension method
- Cleaner syntax, less boilerplate
- Supports both `Widget` and `List<Widget>`
- Works with most Flutter SDK widgets
- Type-safe, since everything is generated from Flutter SDK

---

## ğŸš€ Getting Started

Add to your `pubspec.yaml`:

```yaml
dependencies:
  flutter_widget_skewer:
```

Run build runner:

```bash
flutter pub run build_runner build

or

dart run build_runner build
```

Import generated extensions:

```dart
import 'package:YOUR_PACKAGE/gen/flutter_widget_skewer.g.dart'';
```

---

## ğŸ›  Usage

With `flutter_widget_skewer`, you can write:
```dart
    Text('Hello Widget')
        .container(
            padding: const EdgeInsets.all(8),
            color: Colors.grey,
            alignment: Alignment.center)
        .opacity(opacity: 0.5)
        .rotatedBox(quarterTurns: 1)
        .card(margin: EdgeInsets.all(16), clipBehavior: Clip.antiAlias)
        .inkWell(onTap: () {}, focusNode: FocusNode())
        .ignorePointer(ignoring: false)
        .hero(tag: UniqueKey());
```

Instead of writing:

```dart
    Hero(
      tag: UniqueKey(),
      child: IgnorePointer(
        ignoring: false,
        child: InkWell(
          onTap: () {},
          focusNode: FocusNode(),
          child: Card(
            margin: EdgeInsets.all(16),
            clipBehavior: Clip.antiAlias,
            child: RotatedBox(
              quarterTurns: 1,
              child: Opacity(
                opacity: 0.5,
                child: Container(
                  padding: const EdgeInsets.all(8),
                  color: Colors.grey,
                  alignment: Alignment.center,
                  child: Text('Hello Widget'),
                ),
              ),
            ),
          ),
        ),
      ),
    );
```

---

## ğŸ†š Comparison


<img src="https://github.com/zyzdev/flutter_widget_skewer/blob/main/img/comparison.png?raw=true" width="960" /> 


Cleaner, flatter, easier to read.  
No more bracket hell ğŸ‰

---

## â›“ï¸ Chaining with `List<Widget>`

`flutter_widget_skewer` not only supports chaining on a single `Widget`,  
but also on a `List<Widget>` â€” useful for constructors that take multiple children.  

For example:

```dart
final items = [
  Text('Item 1'),
  Text('Item 2'),
  Text('Item 3'),
];

/// Instead of:
Column(
  children: items,
);

/// You can chain directly:
items.column();
```

This also works with widgets that take `slivers`:

```dart
final slivers = [
  SliverAppBar(title: Text('Hello')),
  SliverList(delegate: SliverChildListDelegate([...]))
];

slivers.customScrollView();
```

ğŸ‘‰ This makes it easy to go from a list of widgets straight into layout widgets without extra boilerplate.

---

## ğŸ” How Flutter version is detected

The generator determines the Flutter SDK version in the following priority order:

1. [fvm](https://fvm.app/)
 â€“ if available, always preferred

2. .dart_tool/package_config.json

3. Platform.environment['FLUTTER_ROOT']

4. System path (where flutter on Windows / which flutter on macOS/Linux)

This ensures compatibility across different environments and Flutter setups.

---

## âš ï¸ Limitations
Currently, the following widgets are not generated by `flutter_widget_skewer`:

- `CupertinoTextSelectionToolbar`
- `TextSelectionToolbar`
- `CupertinoScrollbar`

These widgets have unique constructor,  which make them technically difficult to support with the current generator.  

(They are not commonly used in widget composition, but if you need them, feel free to open an issue or contribute a PR!)

---

## ğŸ›  Troubleshooting

If you encounter issues (e.g., analyzer conflicts or build_runner errors), here are some possible solutions:

1. Match your Flutter version in the example project

	- This package focuses on the Flutter version of your project.

	- If the code generation fails, open the example/ folder of widget_skewer, and set its Flutter SDK version to match your own project.

	- Run:

		```bash
		dart run build_runner build
		```

	- Then copy the generated file `gen/flutter_widget_skewer.g.dart` into your project and use it directly.

2. Alternative: create a new Flutter project

	- You may create a minimal Flutter project with your exact Flutter SDK version.

	- Add flutter_widget_skewer to its pubspec.yaml, run code generation, and copy the generated file (`gen/flutter_widget_skewer.g.dart`)  into your actual project.

---

## ğŸ¤ Contributing

Issues and PRs are welcome!  
If you find unsupported widgets or have ideas for improvement, feel free to contribute.

---

## ğŸ“„ License

MIT



